<!--
@license
Code developed by Dorian Brown in collaboration with Codeself, Inc.
-->

<!-- Polymer -->
<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<!-- Paper Elements -->
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">

<!-- Iron Elements -->
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">

<!-- Icons -->
<link rel="import" href="../app-icons.html">
<link rel="import" href="../fa-icons.html">


<dom-module id="wrc-workouts">
    <template>
        <style>

            /* General Style */
            main {
                padding: 2em 3em;
                height: calc(100vh - (64px + 4em));
                min-height: calc(100vh - (64px + 4em));
                overflow: auto;

                @apply --layout-vertical;
                @apply --layout-center;
            }

            .horizontal-layout { @apply --layout-horizontal }

            .center-layout {
              display: block;
              margin: 1cm auto 0 auto;
            }

            /* Empty Workout State */

            .motivation-msg {
              margin: 2cm 0cm 0cm 0cm;
            }

            .motivation-title {
              color: #AFB7C1;
              font-size: 5em;
              font-weight: 500;
              text-align: center;
              opacity: .70;
            }

            .biceps-icon {
              width: 195px;
              height: 195px;
              display: block;
              margin: 1cm auto 0 auto;
            }

            .add-workout-title {
              color: #788290;
              font-size: 2em;
              display: block;
              margin-bottom: .7em;
              right: 3em;
              bottom: 4em;
              position: absolute;
            }

            .arrow-curve {
              width: 85px;
              height: 85px;
              display: block;
              right: 7.5em;

              bottom: 3em;
              position: absolute;
            }

            /* Fab */
            paper-fab {
              position: fixed;
              bottom: 2em;
              right: 2em;
              --paper-fab-background: var(--azul-primary);
              --paper-fab-keyboard-focus-background: var(--azul-primary);
            }

            /* Responsive */
            @media screen and (max-width: 600px) {
                /* General Style */
                main {
                    padding: 1em;
                    height: calc(100vh - (64px + 2em));
                    min-height: calc(100vh - (64px + 2em));

                    @apply --layout-vertical;
                    @apply --layout-center;
                }

                paper-fab {
                    bottom: 1em;
                    right: 1em;
                }

                /* Empty Workout State */

                .motivation-msg {
                  margin: 2cm 0cm 0cm 0cm;
                }

                .motivation-title {
                  font-size: 2em;
                }

                .biceps-icon {
                  width: 140px;
                  height: 140px;
                }

                .add-workout-title {
                  font-size: 2em;
                  margin-bottom: -.5em;
                  right: 1em;
                  bottom: 4em;
                }

                .arrow-curve {
                  width: 60px;
                  height: 60px;
                  right: 5.2em;

                  bottom: 2.5em;
                  position: absolute;
                }
            }

            /* Responsive Small Devices */
            @media screen and (max-width: 425px) {

                paper-fab {
                    bottom: 1em;
                    right: 1em;
                }

                /* Empty Workout State */

                .motivation-msg {
                  margin: 2cm 0cm 0cm 0cm;
                }

                .motivation-title {
                  font-size: 1.5em;
                }

                .biceps-icon {
                  width: 100px;
                  height: 100px;
                }

                .add-workout-title {
                  font-size: 1.4em;
                  margin-bottom: -.5em;
                  right: 2em;
                  bottom: 4.5em;
                }

                .arrow-curve {
                  width: 40px;
                  height: 40px;
                  right: 5.2em;

                  bottom: 2.5em;
                  position: absolute;
                }

            }




        </style>


        <main>

            <!--  Empty Workout State  -->
            <div class="motivation-msg center-layout">
                <!-- motivatonal message  -->
                <div class="motivation-title">
                  Lets Get Started!
                </div>

                <!--  biceps-icon -->
                <div class="biceps-icon">
                    <img class="biceps-icon" src="../images/app-images/flexed-biceps.png" alt="Biceps Icon">
                </div>
            </div>

            <!--  add workout helper -->
              <div class="add-workout-title">Add Workout</div>
                <div>
                  <img class="arrow-curve" src="../images/app-images/arrow-curve.png" alt="arrow">
                </div>
            <div>

              <!-- Paper Fab to add new workout -->
              <paper-fab icon="fab-icons:add" on-tap="_openToAdd" hidden$="[[!_computeVisibleData(athletesData.length, userReady)]]"></paper-fab>
            </div>

        </main>


    </template>

    <script>
        (function() {
            'use strict';

            class WrcWorkouts extends Polymer.Element {
                /**
                 * Element definition
                */
                static get is() { return 'wrc-workouts'; }

                /**
                 * Element properties
                */
                static get properties() {
                    return {
                        userRole: String,
                        user: {
                            type: Object,
                            notify: true
                        }
                    };
                }

                ready() {
                    super.ready();

                    // Athletes Dialog
                    this._athletesDialog = document.getElementById('addWorkoutDialog');

                    // App Progress Bar
                    this._appProgressBar = document.getElementById('appProgressBar');

                    // App Toast
                    this._appToast = document.getElementById('appToast');
                }

                /**
                 * Opens workout dialog to add
                */
                _openToAdd() {
                    this.action = 'add';
                    this._athletesDialog._resetForm();
                    /*this._athletesDialog.acceptedCallback = this._saveAthlete.bind(this);*/
                    this._athletesDialog.action = 'add';
                    this._athletesDialog.opened = true;
                    /*this._athletesDialog.user = this.user;*/
                }
            }
            window.customElements.define(WrcWorkouts.is, WrcWorkouts);
        })();
    </script>
</dom-module>

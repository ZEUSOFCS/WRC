<!--
@license
Code developed by Dorian Brown in collaboration with Codeself, Inc.
-->

<!-- Polymer -->
<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<!-- Paper Elements -->
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">

<!-- Iron Elements -->
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">

<!-- Vaadin Elements -->
<link rel="import" href="../../bower_components/vaadin-valo-theme/vaadin-text-field.html">
<link rel="import" href="../../bower_components/vaadin-valo-theme/vaadin-combo-box.html">
<link rel="import" href="../../bower_components/vaadin-form-layout/vaadin-form-layout.html">

<!-- Icons -->
<link rel="import" href="../app-icons.html">
<link rel="import" href="../fa-icons.html">


<dom-module id="wrc-workouts">
    <template>
        <style>

            /* General Style */
            main {
                padding: 2em 3em;
                height: calc(100vh - (64px + 4em));
                min-height: calc(100vh - (64px + 4em));
                overflow: auto;

                @apply --layout-vertical;
                @apply --layout-center;
            }

            .horizontal-layout { @apply --layout-horizontal }

            .center-layout {
              display: block;
              margin: 1cm auto 0 auto;
            }

            /* Empty Workout State */

            .motivation-msg {
              margin: 2cm 0cm 0cm 0cm;
            }

            .motivation-title {
              color: #AFB7C1;
              font-size: 4.5em;
              font-weight: 500;
              text-align: center;
              opacity: .70;
            }

            .biceps-icon {
              width: 175px;
              height: 175px;
              display: block;
              margin: 1cm auto 0 auto;
            }

            .add-workout-title {
              color: #788290;
              font-size: 2em;
              display: block;
              margin-bottom: .7em;
              right: 3em;
              bottom: 4em;
              position: absolute;
            }

            .arrow-curve {
              width: 85px;
              height: 85px;
              display: block;
              right: 7.5em;

              bottom: 3em;
              position: absolute;
            }

            /* Fab */
            paper-fab {
              position: fixed;
              bottom: 2em;
              right: 2em;
              --paper-fab-background: var(--azul-primary);
              --paper-fab-keyboard-focus-background: var(--azul-primary);
            }

            /* Responsive */
            @media screen and (max-width: 600px) {
                /* General Style */
                main {
                    padding: 1em;
                    height: calc(100vh - (64px + 2em));
                    min-height: calc(100vh - (64px + 2em));

                    @apply --layout-vertical;
                    @apply --layout-center;
                }

                paper-fab {
                    bottom: 1em;
                    right: 1em;
                }

                /* Empty Workout State */
                .motivation-msg {
                  margin: 2cm 0cm 0cm 0cm;
                }

                .motivation-title {
                  font-size: 2em;
                }

                .biceps-icon {
                  width: 140px;
                  height: 140px;
                }

                .add-workout-title {
                  font-size: 2em;
                  margin-bottom: -.5em;
                  right: 1em;
                  bottom: 4em;
                }

                .arrow-curve {
                  width: 60px;
                  height: 60px;
                  right: 5.2em;

                  bottom: 2.5em;
                  position: absolute;
                }
            }

            /* Responsive Small Devices */
            @media screen and (max-width: 425px) {

                paper-fab {
                    bottom: 1em;
                    right: 1em;
                }

                /* Empty Workout State */
                .motivation-msg {
                  margin: 2cm 0cm 0cm 0cm;
                }

                .motivation-title {
                  font-size: 1.5em;
                }

                .biceps-icon {
                  width: 100px;
                  height: 100px;
                }

                .add-workout-title {
                  font-size: 1.4em;
                  margin-bottom: -.5em;
                  right: 2em;
                  bottom: 4.5em;
                }

                .arrow-curve {
                  width: 40px;
                  height: 40px;
                  right: 5.2em;

                  bottom: 2.5em;
                  position: absolute;
                }
            }

                /* PDF Workout */
                .paper-form {
                  width: 210px;
                  height: 290px;
                  border-radius: 6.6px;
                  background-color: #ffffff;
                  box-shadow: 0 4px 15px 0 rgba(0, 0, 0, 0.15);

                  transition: all .5s;
                  -webkit-transition: all .5s;
                  -moz-transition: all .5s;
                  -o-transition: all .5s;
                  -ms-transition: all .5s;

                }

                .paper-form:hover {
                  margin-top: -1vh;
                  margin-bottom: 2vh;

                  box-shadow: 0 8px 40px 0 rgba(0, 0, 0, 0.10);

                  transition: all .5s;
                  -webkit-transition: all .5s;
                  -moz-transition: all .5s;
                  -o-transition: all .5s;
                  -ms-transition: all .5s;
                }

                 .pdf-wrapper {
                  margin-top: 70px;

                  @apply --layout-vertical;
                  @apply --layout-center;
                }

                .season-title {
                  font-size: 1.6em;
                  font-weight: 400;
                  letter-spacing: 0.7px;
                  text-align: center;
                  color: #86919f;
                }

                .program-title {
                  font-size: .9em;
                  font-weight: 400;
                  letter-spacing: 0.5px;
                  text-align: center;
                  color: #86919f;
                }

                .week-title {
                  font-size: .7em;
                  font-weight: 300;
                  letter-spacing: 0.4px;
                  text-align: center;
                  color: white;
                }

                .tag {
                  width: 70px;
                  height: 21px;
                  border-radius: 12.6px;
                  background-color: #86919f;
                  text-align: center;
                  margin-top: 10px;

                  @apply --layout-vertical
                  @apply --layout-center-center
                }

                .start-button {

                  width: 180px;
                  height: 40px;
                  border-radius: 3.1px;
                  background-color: #5ac381;
                  box-shadow: 0 4px 15px 0 rgba(90, 195, 129, 0.54);

                  margin: 20px 0 0 0;

                  @apply --layout-vertical
                  @apply --layout-center-center
                }

                .start-button .title {
                  font-size: 1.3em;
                  font-weight: 400;
                  letter-spacing: 0.4px;
                  text-align: center;
                  color: white;
                }

                [hidden] {
                    display: none;
                }

                [flex] {
                    @apply --layout-flex;
                }

        </style>


        <main>

            <!-- Loading Indicator  -->
            <template is="dom-if" if="[[!userReady]]">
                <paper-spinner active></paper-spinner>
            </template>

            <!--  Empty Workout Message  -->
            <!--  Testing Hidden Functionalitie: true -->
            <div hidden$=[[isHidden()]]>
                <div class="motivation-msg center-layout">
                    <!-- motivatonal message  -->
                    <div class="motivation-title">
                      Lets Get Started!
                    </div>

                    <!--  biceps-icon -->
                    <div class="biceps-icon">
                        <img class="biceps-icon" src="../images/app-images/flexed-biceps.png" alt="Biceps Icon">
                    </div>
                </div>

                <!--  add workout helper -->
                  <div class="add-workout-title">Add Workout</div>
                    <div>
                      <img class="arrow-curve" src="../images/app-images/arrow-curve.png" alt="arrow">
                    </div>

                    <div>
                      <!-- Paper Fab to add new workout -->
                      <paper-fab icon="fab-icons:add" on-tap="_openToAdd"></paper-fab>
                    </div>
            </div>

            <!--  Display Workouts  -->

            <div class="paper-form">
                <div class="pdf-wrapper">
                    <div class="season-title">OFF-SEASON</div>
                    <div class="program-title">10 Week Program</div>

                    <div class="tag">
                      <div class="week-title">Week 1</div>
                    </div>
                </div>
            </div>
<!--
            <div class="start-button">
              <span class="title">Get Started</span>
            </div>
-->
        </main>


    </template>

    <script>
        (function() {
            'use strict';

            class WrcWorkouts extends Polymer.Element {
                /**
                 * Element definition
                */
                static get is() { return 'wrc-workouts'; }

                /**
                 * Element properties
                */
                static get properties() {
                    return {
                        userRole: String,
                        user: {
                            type: Object,
                            notify: true
                        }
                    };
                }

                ready() {
                    super.ready();

                    // Add Workout Dialog
                    this._addWorkoutDialog = document.getElementById('addWorkoutDialog');

                    // App Progress Bar
                    this._appProgressBar = document.getElementById('appProgressBar');

                    // App Toast
                    this._appToast = document.getElementById('appToast');
                }

                /**
                 * Determines if the coaches workout palette is empty to show the message
                 *
                 * @param {Number} length of the workoutsheet array
                 * @param {Boolean} ready status of the user
                 * @return {Boolean}
                */
                _computeVisibleEmptyMessage(length, ready) {
                    if (!ready) return false;
                    return (length > 0) ? false : true;
                }


                /**
                 * Testing hidden functionality
                 *
                 * @param {Boolean} return true to hide content
                 * @return {Boolean}
                */
                isHidden() {
                  return true
                }

                /**
                 * Opens workout dialog to add
                */
                _openToAdd() {
                    this._addWorkoutDialog.opened = true;
                }
            }
            window.customElements.define(WrcWorkouts.is, WrcWorkouts);
        })();
    </script>
</dom-module>

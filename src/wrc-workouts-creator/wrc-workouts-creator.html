<!--
@license
Code developed by Dorian Brown in collaboration with Codeself, Inc.
-->

<!-- Polymer -->
<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<!-- Paper Elements -->
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">

<!-- Iron Elements -->
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">

<!-- Vaadin Elements -->
<link rel="import" href="../../bower_components/vaadin-valo-theme/vaadin-combo-box.html">
<link rel="import" href="../../bower_components/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="../../bower_components/vaadin-form-layout/vaadin-form-layout.html">
<link rel="import" href="../../bower_components/vaadin-valo-theme/vaadin-text-field.html">
<link rel="import" href="../../bower_components/vaadin-text-field/vaadin-text-field.html">
<link rel="import" href="../../bower_components/vaadin-tabs/vaadin-tabs.html">

<!-- Icons -->
<link rel="import" href="../app-icons.html">
<link rel="import" href="../fa-icons.html">

<!-- Suji Elements -->
<link rel="import" href="../suji/lib/themes/azul/azul-theme.html">
<link rel="import" href="../suji/lib/colors/suji-color-palette.html">

<!-- Neon Animated Pages -->
<link rel="import" href="../../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animatable.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animations.html">

<dom-module id="wrc-workouts-creator">
	<template>
        <style>
            /* Main Wrapper */
            main {
                padding: 2em 3em;
                height: calc(100vh - (64px + 4em));
                min-height: calc(100vh - (64px + 4em));
                overflow: auto;

                @apply --layout-vertical;
                @apply --layout-center;
            }

            /* Creator Wrapper */
            div.creator-wrapper {
                width: 100%;
                height: calc(100vh - (64px + 6em));
                border-radius: 10px;
                padding: 1em;
                background-color: #ffffff;
                box-shadow: 0 20px 20px 0 rgba(0, 0, 0, 0.05);

				@apply --layout-vertical;
            }

            div.creator-wrapper h3 {
                margin: 0;
                font-size: 1.8em;
                font-weight: 400;
                font-style: normal;
                font-stretch: normal;
                line-height: normal;
                letter-spacing: 1px;
                color: #86919f;
            }

            /* Workout Selector */
            .workout-selector {
                width: 100%;
                margin: 36px 0 0;
            }

            .workout-selector #seasonCombo, .workout-selector #typeCombo {
                width: 250px;
            }

            .workout-selector vaadin-combo-box {
                margin-right: 12px;
            }

            /* Tabs Wrapper */
            .tabs-wrapper {
                margin: 2.5cm 0 0 4cm;

                @apply --layout-vertical;
                @apply --layout-center-center;
            }

            vaadin-tabs {
                margin-bottom: 36px;
            }

            .row {
                width: 100%;
                margin-bottom: 24px;
            }

            .row span.row-number {
                color: var(--paper-grey-700);
                margin-right: 12px;
            }

            .row span.multiplier {
                margin: 0 10px;
                font-size: .9em;
                color: var(--paper-grey-700);
            }

            .row span.colon {
                font-size: .9em;
                color: var(--paper-grey-700);
            }

            .row .excercise-field, .row .variation-field {
                width: 220px;
                margin-right: 25px;
            }

            .row .reps-combo, .row .max-field {
                width: 90px;
            }

            .row .max-field {
                margin-right: 25px;
            }

            .row .tempo-combo {
                width: 105px;
            }

            .workoutWeekCombo {
                width: 105px;
            }

            .row-header-wrapper {
                margin: 0 0 0 .7cm;
                @apply --layout-horizontal;
            }

            .week-wrapper {
                margin: 1.5cm 2cm 0 0;
            }

			/* Iron Pages */
			.pages-wrapper {
				overflow: auto;

				@apply --layout-flex;
			}

            /* Actions */
            div.actions {
                width: 100%;
                margin-top: 1.5cm;

                @apply --layout-horizontal;
                @apply --layout-end-justified;
            }

            div.actions paper-button.preview-button {
                color: #fff;
                background-color: #86919f;
                font-weight: 500;
                text-transform: none;
                margin: 0;
                margin-right: 12px !important;
                height: 35px;
            }

            div.actions paper-button.generate-button {
                color: #fff;
                background-color: var(--azul-primary-button);
                font-weight: 500;
                text-transform: none;
                margin: 0;
                height: 35px;
            }
        </style>

        <main>
            <div class="creator-wrapper">
                <h3>New Weekly Workout</h3>
                <div class="workout-selector">
                    <iron-form id="workoutSelectorForm">
                        <form>
                            <vaadin-combo-box
                                id="seasonCombo"
                                label="Season"
                                required
                                error-message="This field is required"></vaadin-combo-box>
                            <vaadin-combo-box
                                id="typeCombo"
                                label="Type"
                                required
                                error-message="This field is required"></vaadin-combo-box>
                            <vaadin-combo-box
                                id="weeksCombo"
                                label="Weeks"
                                required
                                error-message="This field is required"></vaadin-combo-box>
                            <vaadin-combo-box
                                id="daysCombo"
                                label="Days"
                                required
                                error-message="This field is required"></vaadin-combo-box>
                        </form>
                    </iron-form>
                </div>

                <div class="row-header-wrapper">
                    <!-- Week of workout -->
                    <div class="week-wrapper">
                        <vaadin-combo-box
                            id="workoutWeekCombo"
                            class="workoutWeekCombo"
                            label="Week"
                            required
                            error-message="This field is required"></vaadin-combo-box>
                    </div>

                    <!-- Tabs -->
                    <div class="tabs-wrapper">
                        <vaadin-tabs selected="{{day}}" theme="equal-width-tabs">
                            <vaadin-tab>Day 1</vaadin-tab>
                            <vaadin-tab>Day 2</vaadin-tab>
                            <vaadin-tab>Day 3</vaadin-tab>
                            <vaadin-tab>Day 4</vaadin-tab>
                        </vaadin-tabs>
                    </div>
                </div>

                <!-- Page Content -->
				<div class="pages-wrapper">
	                <iron-pages selected="[[day]]">
	                    <!-- Page 1 -->
	                    <page>
							<!-- Row One -->
	                        <div class="row">
	                            <span class="row-number">1.</span>
	                            <vaadin-text-field
	                                class="excercise-field"
	                                label="Excercise"
									value="{{workout.dayOne.rowOne.exercise}}"></vaadin-text-field>
	                            <vaadin-text-field
	                                class="variation-field"
	                                label="Variation"
									value="{{workout.dayOne.rowOne.variation}}"></vaadin-text-field>
	                            <vaadin-combo-box
	                                id="repsCombo"
	                                class="reps-combo"
	                                label="Reps"
	                                type="number"
									value="{{workout.dayOne.rowOne.reps}}"></vaadin-combo-box>
	                            <span class="multiplier">x</span>
	                            <vaadin-text-field
	                                class="max-field"
	                                label="Max"
	                                type="number"
	                                maxlength="3"
	                                pattern="[0-9]*"
	                                prevent-invalid-input
									value="{{workout.dayOne.rowOne.max}}">
	                                <span slot="suffix">%</span>
	                            </vaadin-text-field>
	                            <vaadin-combo-box
	                                id="tempoCombo1"
	                                class="tempo-combo tempo-1"
	                                label="Tempo"
									value="{{workout.dayOne.rowOne.tempoOne}}"></vaadin-combo-box>
	                            <span class="colon">:</span>
	                            <vaadin-combo-box
	                                id="tempoCombo2"
	                                class="tempo-combo tempo-2"
	                                label=" "
									value="{{workout.dayOne.rowOne.tempoTwo}}"></vaadin-combo-box>
	                            <span class="colon">:</span>
	                            <vaadin-combo-box
	                                id="tempoCombo3"
	                                class="tempo-combo tempo-3"
	                                label=" "
									value="{{workout.dayOne.rowOne.tempoThree}}"></vaadin-combo-box>
	                        </div>
	                    </page>
	                </iron-pages>
				</div>

                <div class="actions">
                    <paper-button class="preview-button" raised>Preview</paper-button>
                    <paper-button class="generate-button" raised>Generate</paper-button>
                </div>
            </div>
        </main>
    </template>

	<script>
		'use strict';

		(function() {
			class WrcWorkoutsCreator extends Polymer.Element {
				// Element definition
				static get is() {
					return 'wrc-workouts-creator';
				}

				ready() {
					super.ready();

					// Assign items for each top combo box
					this.$.seasonCombo.items = ['Off-season', 'Pre-season', 'In-season'];
					this.$.typeCombo.items = ['Strength Phase', 'Power Phase', 'Correctional Phase'];
					this.$.weeksCombo.items = ['4', '6', '8', '10', '12'];
					this.$.daysCombo.items = ['2', '3', '4'];
					this.$.workoutWeekCombo.items = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];

					// Get all reps combos and set their items
					const repsCombos = this.root.querySelectorAll(".reps-combo");
					for (let i = 0; i < repsCombos.length; i++) {
						repsCombos[i].items = ['0', '1', '2', '3', '4', '5',
							'6', '7', '8', '9', '10', '11', '12', '13', '14',
							'15', '16', '17', '18', '19', '20', '21', '22',
							'23', '24', '25'
						];
					}

					// Get all tempo-1 and set their items
					const tempoCombos1 = this.root.querySelectorAll(".tempo-1");
					for (let i = 0; i < tempoCombos1.length; i++) {
						tempoCombos1[i].items = ['1', '2', '3', '4', '5', '6'];
					}

					// Get all tempo-2 and set their items
					const tempoCombos2 = this.root.querySelectorAll(".tempo-2");
					for (let i = 0; i < tempoCombos2.length; i++) {
						tempoCombos2[i].items = ['0', '1', '2', '3', '4', '5', '6'];
					}

					// Get all tempo-3 and set their items
					const tempoCombos3 = this.root.querySelectorAll(".tempo-3");
					for (let i = 0; i < tempoCombos3.length; i++) {
						tempoCombos3[i].items = ['1', '2', '3', '4', '5', '6', 'Max '];
					}
				}

				// Element properties
				static get properties() {
					return {
						workout: {
							type: Object,
							notify: true,
							value: {
								dayOne: {
									rowOne: Object,
									rowTwo: Object,
									rowThree: Object,
									rowFour: Object,
									rowFive: Object,
									rowSix: Object,
									rowSeven: Object,
									rowEight: Object,
									rowNine: Object,
									rowTen: Object,
									rowEleven: Object,
									rowTwelve: Object,
									rowThirteen: Object,
									rowFourteen: Object,
									rowFifteen: Object,
									rowSixteen: Object,
									rowSeventeen: Object,
									rowEighteen: Object,
									rowNineteen: Object,
									rowTwenty: Object,
									rowTwentyOne: Object,
									rowTwentyTwo: Object,
									rowTwentyThree: Object,
									rowTwentyFour: Object,
									rowTwentyFive: Object,
									rowTwentySix: Object,
									rowTwentySeven: Object,
									rowTwentyEight: Object,
									rowTwentyNine: Object,
									rowThirty: Object,
									rowThirtyOne: Object,
									rowThirtyTwo: Object
								},
								dayTwo: {
									rowOne: Object,
									rowTwo: Object,
									rowThree: Object,
									rowFour: Object,
									rowFive: Object,
									rowSix: Object,
									rowSeven: Object,
									rowEight: Object,
									rowNine: Object,
									rowTen: Object,
									rowEleven: Object,
									rowTwelve: Object,
									rowThirteen: Object,
									rowFourteen: Object,
									rowFifteen: Object,
									rowSixteen: Object,
									rowSeventeen: Object,
									rowEighteen: Object,
									rowNineteen: Object,
									rowTwenty: Object,
									rowTwentyOne: Object,
									rowTwentyTwo: Object,
									rowTwentyThree: Object,
									rowTwentyFour: Object,
									rowTwentyFive: Object,
									rowTwentySix: Object,
									rowTwentySeven: Object,
									rowTwentyEight: Object,
									rowTwentyNine: Object,
									rowThirty: Object,
									rowThirtyOne: Object,
									rowThirtyTwo: Object
								},
								dayThree: {
									rowOne: Object,
									rowTwo: Object,
									rowThree: Object,
									rowFour: Object,
									rowFive: Object,
									rowSix: Object,
									rowSeven: Object,
									rowEight: Object,
									rowNine: Object,
									rowTen: Object,
									rowEleven: Object,
									rowTwelve: Object,
									rowThirteen: Object,
									rowFourteen: Object,
									rowFifteen: Object,
									rowSixteen: Object,
									rowSeventeen: Object,
									rowEighteen: Object,
									rowNineteen: Object,
									rowTwenty: Object,
									rowTwentyOne: Object,
									rowTwentyTwo: Object,
									rowTwentyThree: Object,
									rowTwentyFour: Object,
									rowTwentyFive: Object,
									rowTwentySix: Object,
									rowTwentySeven: Object,
									rowTwentyEight: Object,
									rowTwentyNine: Object,
									rowThirty: Object,
									rowThirtyOne: Object,
									rowThirtyTwo: Object
								},
								dayFour: {
									rowOne: Object,
									rowTwo: Object,
									rowThree: Object,
									rowFour: Object,
									rowFive: Object,
									rowSix: Object,
									rowSeven: Object,
									rowEight: Object,
									rowNine: Object,
									rowTen: Object,
									rowEleven: Object,
									rowTwelve: Object,
									rowThirteen: Object,
									rowFourteen: Object,
									rowFifteen: Object,
									rowSixteen: Object,
									rowSeventeen: Object,
									rowEighteen: Object,
									rowNineteen: Object,
									rowTwenty: Object,
									rowTwentyOne: Object,
									rowTwentyTwo: Object,
									rowTwentyThree: Object,
									rowTwentyFour: Object,
									rowTwentyFive: Object,
									rowTwentySix: Object,
									rowTwentySeven: Object,
									rowTwentyEight: Object,
									rowTwentyNine: Object,
									rowThirty: Object,
									rowThirtyOne: Object,
									rowThirtyTwo: Object
								}
							}
						}
					};
				}
			}
			window.customElements.define(WrcWorkoutsCreator.is, WrcWorkoutsCreator);
		}());
	</script>
</dom-module>
